"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PostFactory = void 0;
const CommentCollection_1 = require("../Comments/CommentCollection");
const AuthorFactory_1 = require("../Author/AuthorFactory");
const Post_1 = require("./Post");
const CommentFactory_1 = require("../Comments/CommentFactory");
class PostFactory {
    static retrievePostFromRawData(rawPost) {
        let comments = new CommentCollection_1.CommentCollection();
        for (const rawComment of rawPost.comments) {
            comments.add(CommentFactory_1.CommentFactory.retrieveCommentFromRawData(rawComment));
        }
        let author = AuthorFactory_1.AuthorFactory.retrieveAuthorFromRawData(rawPost);
        return new Post_1.Post(rawPost.image, author, rawPost.title, rawPost.content, comments, rawPost.id);
    }
}
exports.PostFactory = PostFactory;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUG9zdEZhY3RvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvVHhCbG9nL0RvbWFpbi9Qb3N0cy9Qb3N0RmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxxRUFBZ0U7QUFDaEUsMkRBQXNEO0FBQ3RELGlDQUE0QjtBQUM1QiwrREFBMEQ7QUFFMUQsTUFBYSxXQUFXO0lBQ2IsTUFBTSxDQUFDLHVCQUF1QixDQUFDLE9BQVk7UUFDOUMsSUFBSSxRQUFRLEdBQUcsSUFBSSxxQ0FBaUIsRUFBRSxDQUFDO1FBQ3ZDLEtBQUssTUFBTSxVQUFVLElBQUksT0FBTyxDQUFDLFFBQVEsRUFBRTtZQUN2QyxRQUFRLENBQUMsR0FBRyxDQUNSLCtCQUFjLENBQUMsMEJBQTBCLENBQUMsVUFBVSxDQUFDLENBQ3hELENBQUM7U0FDTDtRQUVELElBQUksTUFBTSxHQUFHLDZCQUFhLENBQUMseUJBQXlCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFOUQsT0FBTyxJQUFJLFdBQUksQ0FDWCxPQUFPLENBQUMsS0FBSyxFQUNiLE1BQU0sRUFDTixPQUFPLENBQUMsS0FBSyxFQUNiLE9BQU8sQ0FBQyxPQUFPLEVBQ2YsUUFBUSxFQUNSLE9BQU8sQ0FBQyxFQUFFLENBQ2IsQ0FBQztJQUNOLENBQUM7Q0FDSjtBQXBCRCxrQ0FvQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbW1lbnRDb2xsZWN0aW9ufSBmcm9tIFwiLi4vQ29tbWVudHMvQ29tbWVudENvbGxlY3Rpb25cIjtcbmltcG9ydCB7QXV0aG9yRmFjdG9yeX0gZnJvbSBcIi4uL0F1dGhvci9BdXRob3JGYWN0b3J5XCI7XG5pbXBvcnQge1Bvc3R9IGZyb20gXCIuL1Bvc3RcIjtcbmltcG9ydCB7Q29tbWVudEZhY3Rvcnl9IGZyb20gXCIuLi9Db21tZW50cy9Db21tZW50RmFjdG9yeVwiO1xuXG5leHBvcnQgY2xhc3MgUG9zdEZhY3Rvcnkge1xuICAgIHB1YmxpYyBzdGF0aWMgcmV0cmlldmVQb3N0RnJvbVJhd0RhdGEocmF3UG9zdDogYW55KTogUG9zdCB7XG4gICAgICAgIGxldCBjb21tZW50cyA9IG5ldyBDb21tZW50Q29sbGVjdGlvbigpO1xuICAgICAgICBmb3IgKGNvbnN0IHJhd0NvbW1lbnQgb2YgcmF3UG9zdC5jb21tZW50cykge1xuICAgICAgICAgICAgY29tbWVudHMuYWRkKFxuICAgICAgICAgICAgICAgIENvbW1lbnRGYWN0b3J5LnJldHJpZXZlQ29tbWVudEZyb21SYXdEYXRhKHJhd0NvbW1lbnQpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGF1dGhvciA9IEF1dGhvckZhY3RvcnkucmV0cmlldmVBdXRob3JGcm9tUmF3RGF0YShyYXdQb3N0KTtcblxuICAgICAgICByZXR1cm4gbmV3IFBvc3QoXG4gICAgICAgICAgICByYXdQb3N0LmltYWdlLFxuICAgICAgICAgICAgYXV0aG9yLFxuICAgICAgICAgICAgcmF3UG9zdC50aXRsZSxcbiAgICAgICAgICAgIHJhd1Bvc3QuY29udGVudCxcbiAgICAgICAgICAgIGNvbW1lbnRzLFxuICAgICAgICAgICAgcmF3UG9zdC5pZCxcbiAgICAgICAgKTtcbiAgICB9XG59XG4iXX0=